(function(e){function t(t){for(var o,i,a=t[0],u=t[1],l=t[2],d=0,f=[];d<a.length;d++)i=a[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&f.push(r[i][0]),r[i]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(e[o]=u[o]);s&&s(t);while(f.length)f.shift()();return c.push.apply(c,l||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],o=!0,a=1;a<n.length;a++){var u=n[a];0!==r[u]&&(o=!1)}o&&(c.splice(t--,1),e=i(i.s=n[0]))}return e}var o={},r={app:0},c=[];function i(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],u=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var s=u;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"3b41":function(e,t,n){"use strict";n("61ad")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23"),r={class:"todoapp"},c={class:"header"},i=Object(o["e"])("h1",null,"todos",-1),a={class:"main"},u=Object(o["e"])("label",{for:"toggle-all"},"Mark all as complete",-1),l={class:"todo-list"},s={class:"view"},d={class:"footer"},f={class:"todo-count"},b={class:"filters"},p=Object(o["e"])("footer",{class:"info"},[Object(o["e"])("p",null,"Double-click to edit a todo"),Object(o["e"])("p",null,[Object(o["d"])(" A Vue 3 iteration on "),Object(o["e"])("a",{href:"https://todomvc.com/examples/vue/"},"TodoMVC - Vue")])],-1);function h(e,t,n,h,m,v){return Object(o["f"])(),Object(o["c"])(o["a"],null,[Object(o["e"])("section",r,[Object(o["e"])("header",c,[i,Object(o["l"])(Object(o["e"])("input",{class:"new-todo",autofocus:"",autocomplete:"off",placeholder:"What needs to be done?","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.newTodo=t}),onKeyup:t[2]||(t[2]=Object(o["m"])((function(){return v.addTodo&&v.addTodo.apply(v,arguments)}),["enter"]))},null,544),[[o["j"],e.newTodo]])]),Object(o["l"])(Object(o["e"])("section",a,[Object(o["l"])(Object(o["e"])("input",{id:"toggle-all",class:"toggle-all",type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=function(e){return v.allDone=e})},null,512),[[o["i"],v.allDone]]),u,Object(o["e"])("ul",l,[(Object(o["f"])(!0),Object(o["c"])(o["a"],null,Object(o["g"])(v.filteredTodos,(function(t){return Object(o["f"])(),Object(o["c"])("li",{class:["todo",{completed:t.completed,editing:t==e.editedTodo}],key:t.id},[Object(o["e"])("div",s,[Object(o["e"])("input",{class:"toggle",type:"checkbox",onClick:function(e){return v.updateTodo(t)},checked:t.completed},null,8,["onClick","checked"]),Object(o["e"])("label",{onDblclick:function(e){return v.editTodo(t)}},Object(o["h"])(t.title),41,["onDblclick"]),Object(o["e"])("button",{class:"destroy",onClick:function(e){return v.removeTodo(t)}},null,8,["onClick"])]),Object(o["l"])(Object(o["e"])("input",{class:"edit",type:"text","onUpdate:modelValue":function(e){return t.title=e},onBlur:function(e){return v.doneEdit(t)},onKeyup:[Object(o["m"])((function(e){return v.doneEdit(t)}),["enter"]),Object(o["m"])((function(e){return v.cancelEdit(t)}),["esc"])]},null,40,["onUpdate:modelValue","onBlur","onKeyup"]),[[o["j"],t.title]])],2)})),128))])],512),[[o["k"],e.todos.length]]),Object(o["l"])(Object(o["e"])("footer",d,[Object(o["e"])("span",f,[Object(o["e"])("strong",{textContent:Object(o["h"])(v.remaining)},null,8,["textContent"]),Object(o["d"])(" "+Object(o["h"])(v.pluralize("item",v.remaining))+" left ",1)]),Object(o["e"])("ul",b,[Object(o["e"])("li",null,[Object(o["e"])("button",{onClick:t[4]||(t[4]=function(t){return e.visibility="all"}),class:[{selected:"all"==e.visibility},"btn"]}," All ",2)]),Object(o["e"])("li",null,[Object(o["e"])("button",{onClick:t[5]||(t[5]=function(t){return e.visibility="active"}),class:[{selected:"active"==e.visibility},"btn"]}," Active ",2)]),Object(o["e"])("li",null,[Object(o["e"])("button",{onClick:t[6]||(t[6]=function(t){return e.visibility="completed"}),class:[{selected:"completed"==e.visibility},"btn"]}," Completed ",2)])]),Object(o["l"])(Object(o["e"])("button",{class:"clear-completed",onClick:t[7]||(t[7]=function(){return v.removeCompleted&&v.removeCompleted.apply(v,arguments)})}," Clear completed ",512),[[o["k"],e.todos.length>v.remaining]])],512),[[o["k"],e.todos.length]])]),p],64)}var m=n("5530"),v=n("1da1"),j=(n("96cf"),n("4de4"),n("159b"),n("498a"),n("d3b7"),n("a434"),n("7db0"),{name:"App",data:function(){return{database:null,todos:[],newTodo:"",editedTodo:null,visibility:"all"}},computed:{activeTasks:function(){return this.todos.filter((function(e){return!e.completed}))},filteredTodos:function(){return"all"===this.visibility?this.todos:"active"===this.visibility?this.activeTasks:this.todos.filter((function(e){return e.completed}))},remaining:function(){return this.activeTasks.length},allDone:{get:function(){return 0===this.remaining},set:function(e){var t=this;this.todos.forEach(function(){var n=Object(v["a"])(regeneratorRuntime.mark((function n(o){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return o.completed=e,n.next=3,t.saveTodo(Object(m["a"])(Object(m["a"])({},o),{},{title:o.title}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}}},methods:{addTodo:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.newTodo&&e.newTodo.trim(),o={id:e.todos.length+1,title:n,completed:!1},n){t.next=4;break}return t.abrupt("return");case 4:return e.todos.push(o),t.next=7,e.saveTodo(o);case 7:e.newTodo="";case 8:case"end":return t.stop()}}),t)})))()},cancelEdit:function(e){this.editedTodo=null,e.title=this.beforeEditCache},deleteTodo:function(e){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.getDataBase();case 2:return t.database=n.sent,n.abrupt("return",new Promise((function(n,o){var r=t.database.transaction(["todos"],"readwrite"),c=r.objectStore("todos");c.delete(e.id),r.oncomplete=function(){n("Item Deleted")},r.onerror=function(e){o(e)}})));case 4:case"end":return n.stop()}}),n)})))()},doneEdit:function(e){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.editedTodo){n.next=2;break}return n.abrupt("return");case 2:if(t.editedTodo=null,e.title=e.title.trim(),e.title){n.next=8;break}t.removeTodo(e),n.next=10;break;case 8:return n.next=10,t.saveTodo(Object(m["a"])(Object(m["a"])({},e),{},{title:e.title}));case 10:case"end":return n.stop()}}),n)})))()},editTodo:function(e){this.beforeEditCache=e.title,this.editedTodo=e},getDataBase:function(){var e=this;return new Promise((function(t,n){e.database&&t(e.database);var o=window.indexedDB.open("todoDB",1);o.onerror=function(e){console.error("Unable to Open DB",e),n(e)},o.onsuccess=function(n){e.database=n.target.result,t(e.database)},o.onupgradeneeded=function(e){var t=e.target.result;t.createObjectStore("todos",{autoIncrement:!0,keyPath:"id"})}}))},getTodoStore:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getDataBase();case 2:return e.database=t.sent,t.abrupt("return",new Promise((function(t,n){var o=e.database.transaction(["todos"],"readonly"),r=o.objectStore("todos"),c=[];r.openCursor().onsuccess=function(e){var t=e.target.result;t&&(c.push(t.value),t.continue())},o.oncomplete=function(){t(c)},o.onerror=function(e){n(e)}})));case 4:case"end":return t.stop()}}),t)})))()},pluralize:function(e,t){return e+(1===t?"":"s")},removeCompleted:function(){var e=this;this.todos=this.todos.filter((function(t){return t.completed&&e.deleteTodo(t),!t.completed}))},removeTodo:function(e){var t=this.todos.indexOf(e);this.todos.splice(t,1),this.deleteTodo(e)},saveTodo:function(e){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.getDataBase();case 2:return t.database=n.sent,n.abrupt("return",new Promise((function(n,o){var r=t.database.transaction(["todos"],"readwrite"),c=r.objectStore("todos");c.put(e),r.oncomplete=function(){n("Item Saved")},r.onerror=function(e){o(e)}})));case 4:case"end":return n.stop()}}),n)})))()},updateTodo:function(e){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.todos.find((function(t){return t===e})).completed=!e.completed,n.next=3,t.saveTodo(Object(m["a"])(Object(m["a"])({},e),{},{title:e.title}));case 3:case"end":return n.stop()}}),n)})))()}},created:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getTodoStore();case 2:e.todos=t.sent;case 3:case"end":return t.stop()}}),t)})))()}});n("3b41");j.render=h;var O=j,g=n("9483");Object(g["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),Object(o["b"])(O).mount("#app")},"61ad":function(e,t,n){}});
//# sourceMappingURL=app.4406f3f2.js.map